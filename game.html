<!DOCTYPE html>
<html>
    <body>
        <script>

            function capitalize(word){
	        var lastLetters = word.toLowerCase().slice(1);
	        var firstLetter = word.slice(0,1).toUpperCase();
	        return firstLetter+lastLetters;
            }

            function computerPlay(){
                let choice = Math.floor(Math.random() * Math.floor(3));
                switch (choice){
                    case 0: return 'Rock';
                        break;
                    case 1: return 'Paper';
                        break;
                    case 2: return 'Scissors';
                        break;
                }
            }

            function playRound(playerSelection, computerSelection){

                let responseDraw = 'Draw! ' + playerSelection + ' vs ' + computerSelection;
                let responseLose = 'You Lose! ' + computerSelection + ' beats ' + playerSelection + '!';
                let responseWin = 'You Win! ' + playerSelection + ' beats ' + computerSelection + '!';
                
                if(playerSelection == 'Rock'){
                    switch (computerSelection){
                        case 'Rock': return responseDraw;
                            break;
                        case 'Paper': return responseLose;
                            break;
                        case 'Scissors': return responseWin;
                            break;
                    }
                } else if (playerSelection == 'Paper'){
                    switch (computerSelection){
                        case 'Paper': return responseDraw; 
                            break;
                        case 'Scissors': return responseLose; 
                            break;
                        case 'Rock': return responseWin; 
                            break;
                    }
                } else if (playerSelection == 'Scissors'){
                    switch (computerSelection){
                        case 'Scissors': return responseDraw; 
                            break;
                        case 'Rock': return responseLose; 
                            break;
                        case 'Paper': return responseWin; 
                            break;
                    }
                } else {
                    return 'Error';
                }
            }

            function game(){
                let playerWinCounter = 0;
                let computerWinCounter = 0;

                playerSelection = prompt('Enter your choice: ');
                playerSelection = capitalize(playerSelection);
                computerSelection = computerPlay();
                playRound(playerSelection, computerSelection);
                console.log(playRound(playerSelection, computerSelection));

                playerSelection = prompt('Enter your choice: ');
                playerSelection = capitalize(playerSelection);
                computerSelection = computerPlay();
                playRound(playerSelection, computerSelection);
                console.log(playRound(playerSelection, computerSelection));

                playerSelection = prompt('Enter your choice: ');
                playerSelection = capitalize(playerSelection);
                computerSelection = computerPlay();
                playRound(playerSelection, computerSelection);
                console.log(playRound(playerSelection, computerSelection));

                playerSelection = prompt('Enter your choice: ');
                playerSelection = capitalize(playerSelection);
                computerSelection = computerPlay();
                playRound(playerSelection, computerSelection);
                console.log(playRound(playerSelection, computerSelection));

                playerSelection = prompt('Enter your choice: ');
                playerSelection = capitalize(playerSelection);
                computerSelection = computerPlay();
                playRound(playerSelection, computerSelection);
                console.log(playRound(playerSelection, computerSelection));

                if (playRound(playerSelection, computerSelection) == 'responseWin'){
                    playerWinCounter++
                } else if (playRound(playerSelection, computerSelection) == 'responseLose'){
                    computerWinCounter++;
                }

                if (playerWinCounter > computerWinCounter){
                    return 'You are the winner!'
                } else if (playerWinCounter < computerWinCounter) {
                    return 'You lost :('
                } else {
                    return 'Nobody wins, play again to decide the champion!'}
            }

            console.log(game());

        </script>
    </body>
</html>